<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>EJERCICIO 1 - PRACTICA 13</title>
	<script type="text/javascript" ></script>
	<style>
		table{
			border-collapse: collapse;
			border: black 1px solid;
		}
		tr{
			border: 1px;
			border-style: solid;
			border-color: black;
			height: 100px;
		}
		td{
			border-collapse: collapse;
			border: black 1px solid;
			width: 100px;
			background-color: cyan;
			align-items:center;
			/*horizontal-align:middle;*/
		}
		div{
			visibility:hidden;
			font-family:Arial;
			width: 100px;
			font-size:30;
			font-weight:bold;
			text-align:center;
		}
	</style>
</head>
<body onload="inicializar()">
	<h1 align="center"> Debes adivinar 4 valores de las 16 celdas </h1>
	<table align="center" id="tabla">
		<tr id="fila1">
			<td id="1" ><div id="s1">1</div></td>
			<td id="2"><div id="s2">2</div></td>
			<td id="3"><div id="s3">3</div></td>
			<td id="4"><div id="s4" >4</div></td>
		</tr>
		<tr id="fila2">
			<td id="5"><div id="s5">5</div></td>
			<td id="6"><div id="s6">6</div></td>
			<td id="7"><div id="s7">7</div></td>
			<td id="8"><div id="s8">8</div></td>
		</tr>
		<tr id="fila3">
			<td id="9"><div id="s9">9</div></td>
			<td id="10"><div id="s10">10</div></td>
			<td id="11"><div id="s11">11</div></td>
			<td id="12"><div id="s12">12</div></td>
		</tr>
		<tr id="fila4">
			<td id="13"><div id="s13">13</div></td>
			<td id="14"><div id="s14">14</div></td>
			<td id="15"><div id="s15">15</div></td>
			<td id="16"><div id="s16">16</div></td>
		</tr>
	</table>
</body>
<script>
function inicializar(){
    let numeros = [];
	oncontextmenu = (event) => {};

    while (numeros.length < 8) {
        let numero = Math.floor(Math.random() * 16) + 1;
        if (!numeros.includes(numero))
            numeros.push(numero);
    }

	numeros = numeros.sort(function (a, b) { return a - b ;});
	numerosAux = numeros.reverse();
    console.log(numeros);

	mostrarNumeros(numeros,"visible");
	setTimeout(mostrarNumeros, 2000, numeros,"hidden");

	function mostrarNumeros(numeros,estado){
		numeros.forEach(element => {
			document.getElementById("s"+element).style.visibility = estado;
		});
	}

	let elemento = document.getElementById("tabla");
	elemento.addEventListener("mouseup",comprobar);
	
	function comprobar(evt){
		numerosAux.forEach(element => {
			console.log(element == (parseInt(evt.target.id)));
			if(numeros.includes(parseInt(evt.target.id)) && element == (parseInt(evt.target.id))){
				evt.target.style.backgroundColor = "yellow";
				document.getElementById("s"+evt.target.id).style.visibility = "visible";
				numerosAux.splice(-1, 1);
				console.log(numerosAux);
			}else{
				evt.target.style.backgroundColor = "red";
				mostrarNumeros(numeros,"visible");
				//elemento.removeEventListener("click",comprobar);
			}
		});
	}
}
</script>
</html>